#include <iostream>
#include <string>
#include <cmath>
#include <cstdlib>
using namespace std;
// ПРОГРАММА РАБОТАЕТ ТОЛЬКО ДО 10 СС, НУЖНО ДОДЕЛАТЬ ДО 16
//Функция возвращает значения цифр в 16 СС
int value(char cs_16)
{
	switch (cs_16)
	{
	case 'A':return 10;
	case 'B':return 11;
	case 'C':return 12;
	case 'D':return 13;
	case 'E':return 14;
	case 'F':return 15;
	}
}

int main() {
	setlocale(LC_ALL, "rus");
	int old_number, old, old_basis, new_number, new_basis, number_10, i, len, t;
	string str;
	len = 0;
	cout << "Введите исходное число: ";
	cin >> old_number;
	t = old_number;
	cout << "Введите исходное основание: ";
	cin >> old_basis;
	cout << "Введите новое основание: ";
	cin >> new_basis;
	//Сначала переводим число в 10 СС, рассматриваем с конца
	while (t > 0)
	{
		t = t / 10;
		len = len + 1;
	}
	number_10 = 0;
	for (i = len; i > 0; i--)
	{
		number_10 = number_10 + old_number % 10 * pow(old_basis, len - i);
		old_number = old_number / 10;
		
	}
	cout << "Число в 10 СС: " << number_10 << endl;

	//TODO написать перевод в int
	new_number = 0;
	str = "";
	while (number_10 > 0)
	{
		str = str + to_string(number_10 % new_basis);
		number_10 /= new_basis;
	}
	reverse(str.begin(), str.end());
	for (int i = 0; i < str.length(); i++) {
		new_number = new_number * 10 + str[i] - 0x30;
	}
	reverse(str.begin(), str.end());
	cout << "Результат: " << new_number;
	return 0;
}
