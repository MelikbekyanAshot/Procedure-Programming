#include <iostream>
#include <string>
#include <cmath>
#include <cstdlib>
using namespace std;

//Функция возвращает значения цифр в 16 СС
string value(char cs_16)
{
	switch (cs_16)
	{
	case 10:return "A";
	case 11:return "B";
	case 12:return "C";
	case 13:return "D";
	case 14:return "E";
	case 15:return "F";
	}
}

int main() {
	setlocale(LC_ALL, "rus");
	int old_number, old, old_basis, new_basis, number_10, i, len, t;
	string new_number;
	len = 0;
	cout << "Введите исходное число: ";
	cin >> old_number;
	t = old_number;
	cout << "Введите исходное основание: ";
	cin >> old_basis;
	cout << "Введите новое основание: ";
	cin >> new_basis;
	//Сначала переводим число в 10 СС, рассматриваем с конца
	while (t > 0)
	{
		t = t / 10;
		len = len + 1;
	}
	number_10 = 0;
	for (i = len; i > 0; i--)
	{
		number_10 = number_10 + old_number % 10 * pow(old_basis, len - i);
		old_number = old_number / 10;
		
	}
	cout << "Число в 10 СС: " << number_10 << endl;

	// переводим в новую СС. Создаем строчную переменную, рассматриваем каждый разряд, если получаем число >= 10 - используем функции value,
	// иначе - просто находим остаток от деления. Затем используем reverse(), чтобы перевернуть строку (изначально строка перевернута, т. к. рассматривали с конца)
	new_number = "";
	while (number_10 > 0)
	{
		if (number_10 % new_basis > 9)
		{
			new_number = new_number + value(number_10 % new_basis);
		}
		else
		{
			new_number = new_number + to_string(number_10 % new_basis);
		}
		number_10 /= new_basis;
	}
	reverse(new_number.begin(), new_number.end());
	cout << "Результат: " << new_number;
	return 0;
}
